#ifndef SPACESHIP_H
#define SPACESHIP_H

#include "object.h"
#include <vector>
#include "shot.h"
#include "asteroid.h"

#define INITIAL_HEALTH 100
#define MOVEMENT_AMOUNT 0.2f
#define MOVEMENT_OFFSET 8.0f


//Spaceship inherits from the Object class
class SpaceShip : public Object
{
public:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief ctor to set up initial variables
    //----------------------------------------------------------------------------------------------------------------------
    SpaceShip();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief dtor
    //----------------------------------------------------------------------------------------------------------------------
    ~SpaceShip();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief drawing the teapot, called in draw within NGLDraw.cpp
    //----------------------------------------------------------------------------------------------------------------------
    void Draw(ngl::Mat4 m_view, ngl::Mat4 m_mouseGlobalTX, ngl::Mat4 m_project, float _delta);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief keyboard event handlingßßßß
    //----------------------------------------------------------------------------------------------------------------------
    void keyboardPressEvent(const SDL_Event &_event);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief accelerate teapot
    //----------------------------------------------------------------------------------------------------------------------
    void Accelerate();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief set teapot rotation
    //----------------------------------------------------------------------------------------------------------------------
    void setRotation(float _rotAngle);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief damage ship (used within collision detection algorithm
    //----------------------------------------------------------------------------------------------------------------------
    void Damage();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief remove bullet from vector array, _index = the specific index of the bullet (for collision)
    //----------------------------------------------------------------------------------------------------------------------
    void RemoveBullet(int _index);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief Get bullet amount
    //----------------------------------------------------------------------------------------------------------------------
    std::vector<shot> GetBullets();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief Get teapot position
    //----------------------------------------------------------------------------------------------------------------------
    ngl::Vec3 GetPosition();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief Get bullet amount
    //----------------------------------------------------------------------------------------------------------------------
    int GetNumberOfBullets();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief get health of teapot
    //----------------------------------------------------------------------------------------------------------------------
    int GetHealth();

private:

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief bullet vector array (for dynamic object creating and destroying)
    //----------------------------------------------------------------------------------------------------------------------
    std::vector<shot> bullets;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief teapot health variable
    //----------------------------------------------------------------------------------------------------------------------
    int m_health;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief Initial teapot angle
    //----------------------------------------------------------------------------------------------------------------------
    float m_initialAngle;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief current teapot angle
    //----------------------------------------------------------------------------------------------------------------------
    float m_angle;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief movement offset (adds speed)
    //----------------------------------------------------------------------------------------------------------------------
    float m_offset;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief acceleration factor for teapot
    //----------------------------------------------------------------------------------------------------------------------
    float m_acceleration;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief boolian to determine if the teapot is moving
    //----------------------------------------------------------------------------------------------------------------------
    bool isMoving;

};

#endif // SPACESHIP_H
